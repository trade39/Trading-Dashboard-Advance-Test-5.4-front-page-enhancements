/* General Body Styles */
body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
    transition: background-color 0.3s ease, color 0.3s ease;
    margin: 0; /* Reset default margin */
    padding: 0; /* Reset default padding */
}

/* Theme Variables - Define defaults and then override per theme */
:root {
    --font-family-sans-serif: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
    --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

    /* Light Theme Defaults */
    --primary-color: #007bff;
    --secondary-color: #0056b3;
    --background-color: #ffffff;
    --secondary-background-color: #f8f9fa;
    --text-color: #212529;
    --text-color-light: #495057;
    --border-color: #dee2e6;
    --card-background: #ffffff;
    --button-text-color: #ffffff;
    --box-shadow-sm: 0 .125rem .25rem rgba(0,0,0,.075);
    --box-shadow: 0 .5rem 1rem rgba(0,0,0,.15);
    --box-shadow-lg: 0 1rem 3rem rgba(0,0,0,.175);
    --border-radius: 0.375rem;
    --header-toolbar-background: #ffffff; /* Default for light theme */
    --header-toolbar-text-color: #495057; /* Default for light theme */
    --header-toolbar-hover-text-color: #212529; /* Default for light theme */

}

/* Dark Theme Overrides */
[data-theme="dark"] {
    --primary-color: #17a2b8;
    --secondary-color: #138496;
    --background-color: #0a192f;
    --secondary-background-color: #132f4c;
    --text-color: #e6f1ff;
    --text-color-light: #adb5bd;
    --border-color: #3a506b;
    --card-background: #132f4c;
    --button-text-color: #ffffff;
    --header-toolbar-background: #0a192f; /* Dark theme header bg */
    --header-toolbar-text-color: #adb5bd;  /* Dark theme header text */
    --header-toolbar-hover-text-color: #e6f1ff; /* Dark theme header text hover */
}

/* Apply general background and text color based on theme */
html { /* Ensure HTML element gets the background for full coverage */
    background-color: var(--background-color);
}

body {
    background-color: var(--background-color);
    color: var(--text-color);
}


/* Welcome Page Specific Styles */
.welcome-container {
    padding: 2rem;
    max-width: 900px;
    margin: 2rem auto;
    background-color: var(--secondary-background-color);
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    border: 1px solid var(--border-color);
}

.hero-section h1 {
    font-size: 2.5em;
    font-weight: 700;
    margin-bottom: 0.5rem;
    color: var(--primary-color);
}

.hero-section .tagline {
    font-size: 1.25em;
    font-weight: 300;
    margin-bottom: 1.5rem;
    color: var(--text-color-light);
}

.feature-card {
    background-color: var(--background-color);
    padding: 1.5rem;
    border-radius: var(--border-radius);
    border: 1px solid var(--border-color);
    box-shadow: var(--box-shadow-sm);
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    height: 100%;
    display: flex;
    flex-direction: column;
}

.feature-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--box-shadow);
}

.feature-card h4 {
    color: var(--primary-color);
    margin-top: 0;
    margin-bottom: 0.75rem;
    font-size: 1.3em;
}

.feature-card p {
    font-size: 0.95em;
    line-height: 1.6;
    color: var(--text-color);
    flex-grow: 1;
}

/* General Button Styling */
div[data-testid="stButton"] > button {
    background-color: var(--primary-color);
    color: var(--button-text-color) !important;
    border: 1px solid var(--primary-color);
    padding: 0.65rem 1.3rem;
    border-radius: var(--border-radius);
    font-weight: 600;
    font-size: 1em;
    transition: background-color 0.2s ease, transform 0.2s ease, border-color 0.2s ease;
    box-shadow: var(--box-shadow-sm);
}

div[data-testid="stButton"] > button:hover {
    background-color: var(--secondary-color);
    border-color: var(--secondary-color);
    color: var(--button-text-color) !important;
    transform: translateY(-2px);
    box-shadow: var(--box-shadow);
}

div[data-testid="stButton"] > button:active {
    transform: translateY(0px);
    box-shadow: var(--box-shadow-sm);
}

/* General utility for separators */
hr {
    border: none;
    height: 1px;
    background-color: var(--border-color);
    margin: 2rem 0;
}

/* Streamlit Overrides & Enhancements */
div[data-testid="stSidebar"] {
    border-right: 1px solid var(--border-color);
    background-color: var(--secondary-background-color);
}

.main .block-container { /* Main content area */
    padding-top: 1rem; /* Reduce top padding if header is less obtrusive */
    padding-bottom: 2rem;
    padding-left: 1rem;
    padding-right: 1rem;
    background-color: var(--background-color); /* Ensure it matches main bg */
}

/* Streamlit Header/Toolbar Styling */
/* Targets the main toolbar at the top of the app */
div[data-testid="stToolbar"] {
    background-color: var(--header-toolbar-background) !important;
    border-bottom: 1px solid var(--border-color) !important; /* Optional: adds a subtle separator */
}

div[data-testid="stToolbar"] button,
div[data-testid="stToolbar"] a,
div[data-testid="stToolbar"] label, /* For any labels that might appear */
div[data-testid="stToolbar"] svg { /* Targets icons */
    color: var(--header-toolbar-text-color) !important;
    fill: var(--header-toolbar-text-color) !important; /* For SVG icons */
}

div[data-testid="stToolbar"] button:hover,
div[data-testid="stToolbar"] a:hover,
div[data-testid="stToolbar"] label:hover,
div[data-testid="stToolbar"] svg:hover {
    color: var(--header-toolbar-hover-text-color) !important;
    fill: var(--header-toolbar-hover-text-color) !important;
    background-color: transparent !important; /* Prevent unwanted hover backgrounds on buttons */
}

/* Specifically for the "Share" button if it needs different styling */
div[data-testid="stToolbar"] button[title="Share app"] {
    /* Add specific styles if needed, otherwise it inherits above */
}


/* Responsive adjustments */
@media (max-width: 992px) {
    .hero-section h1 {
        font-size: 2.2em;
    }
    .hero-section .tagline {
        font-size: 1.1em;
    }
}

@media (max-width: 768px) {
    .welcome-container {
        padding: 1.5rem;
        margin: 1rem;
    }
    .hero-section h1 {
        font-size: 2em;
    }
    .hero-section .tagline {
        font-size: 1em;
    }
    .feature-card {
        margin-bottom: 1rem;
    }
    .main .block-container {
        padding-top: 0.5rem; /* Further reduce top padding on mobile */
    }
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 10px; /* Slightly wider for better grab */
    height: 10px;
}
::-webkit-scrollbar-track {
    background: var(--secondary-background-color);
    border-radius: var(--border-radius);
}
::-webkit-scrollbar-thumb {
    background-color: var(--primary-color);
    border-radius: var(--border-radius);
    border: 2px solid var(--secondary-background-color); /* Creates padding around thumb */
}
::-webkit-scrollbar-thumb:hover {
    background-color: var(--secondary-color);
}
```

**Key Changes Made:**

1.  **`html` Background:**
    ```css
    html {
        background-color: var(--background-color);
    }
    ```
    This ensures the very base of the page (which the main scrollbar is attached to) also uses your theme's background color. This should help the scrollbar track blend in seamlessly.

2.  **Streamlit Header/Toolbar Styling (`div[data-testid="stToolbar"]`):**
    * New CSS variables `--header-toolbar-background`, `--header-toolbar-text-color`, and `--header-toolbar-hover-text-color` were added to `:root` and `[data-theme="dark"]` for better control.
    * The background of the toolbar is set to `var(--header-toolbar-background)`.
    * The color and fill (for SVG icons) of buttons, links, and SVGs within the toolbar are set to `var(--header-toolbar-text-color)`.
    * Hover states are also themed using `var(--header-toolbar-hover-text-color)`.
    * `!important` is used cautiously here because Streamlit's internal styles can be quite specific. This helps ensure your theme overrides take precedence for this particular component.

3.  **Main Content Padding:**
    ```css
    .main .block-container {
        padding-top: 1rem; /* Reduce top padding if header is less obtrusive */
        /* ... other paddings ... */
        background-color: var(--background-color); /* Ensure it matches main bg */
    }
    ```
    I've slightly reduced the `padding-top` for the main content area (`.block-container`) as the header bar will now be less visually dominant. You can adjust this as needed. Also ensured its background color matches the main theme.

**How to Use:**

* Replace the entire content of your `style.css` file with the code provided above.
* Ensure your `app.py` is correctly loading this `style.css` file (using `load_css("style.css")`).
* The theme switching mechanism you have (JavaScript setting `data-theme` on `document.documentElement`) will work with these CSS rules.

This should make the top Streamlit toolbar integrate smoothly with your dark theme, and the main page scrollbar should also be consistently styled. If the `div[data-testid="stToolbar"]` selector doesn't capture the header correctly in your Streamlit version, you might need to inspect the element in your browser's developer tools to find the precise selector and adjust the CSS accordingly.

I've updated the `style.css` in the document with these changes.

**Suggestions for Next Steps:**

1.  **Test Toolbar Selectors:** Verify that `div[data-testid="stToolbar"]` correctly targets the header bar. If not, inspect the page elements to find the correct selector (it might be something like `.stApp > header` or another `data-testid`).
2.  **Fine-tune Colors:** Adjust the new `--header-toolbar-...` CSS variables if the default choices aren't perfectly to your liking.
3.  **Check `st.logo` Interaction:** See how `st.logo()` behaves with this styled header. The logo should ideally replace only a part of the header, and the rest should adopt the new styling.
4.  **Responsiveness of Header:** While the welcome page content has responsive styles, check how the Streamlit header itself behaves on smaller screens. Streamlit usually handles this well, but ensure your styles don't interfere negatively.
5.  **Consider Removing `!important`:** If possible, try to achieve the overrides without `!important` by increasing CSS specificity. However, for overriding deeply nested or inline styles from a library like Streamlit, `!important` is sometimes a pragmatic choi
